---
import mermaid from "mermaid";

mermaid.initialize({
  startOnLoad: false,
});
---

<script type="module">
  import mermaid from "mermaid";

  mermaid.initialize({
    startOnLoad: false,
    theme: "default",
  });

  document.addEventListener("DOMContentLoaded", async () => {
    document
      .querySelectorAll("pre[data-language='mermaid']")
      .forEach(pre => {
        const div = document.createElement("div");
        div.className = "mermaid";
        div.textContent = pre.innerText;
        pre.replaceWith(div);
      });

    await mermaid.run({
      querySelector: ".mermaid",
    });
  });
</script>

